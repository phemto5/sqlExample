{"version":3,"sources":["webpack:///server.js","webpack:///webpack/bootstrap 855ea600705da4e19a20","webpack:///./src/index.ts","webpack:///./src/config.json","webpack:///./src/products.json","webpack:///./src/Day.ts","webpack:///./src/LogFile.ts","webpack:///./src/StringLine.ts","webpack:///./src/TwoDayWindow.ts","webpack:///external \"fs\""],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","LogFile_1","console","log","Date","config","processing","setInterval","delaySeconds","days","LogFile","filePath","forEach","day","products","Day","this","lines","prototype","getHighMark","product","highwater","current","prodExp","RegExp","line","match","getDate","dateString","split","pop","addLine","string","push","Day_1","StringLine_1","TwoDayWindow_1","fs","sourcePath","logPath","consumeFile","fileString","readFileSync","lineArray","map","str","StringLine","window","TwoDayWindow","ind","arr","lineString","lineWindow","isNewDay","nextDay","isPreviousDay","previous","finishWindow","allDays","lineInd","result","times","stringLine","getLineHour","currentTime","previousTime","_string","Object","defineProperty","get","set","enumerable","configurable","timeStringArray","substr","timeNumbersArray","segment","parseInt","hours","prev","require"],"mappings":"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","file":"server.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar LogFile_1 = __webpack_require__(4);\r\n\tconsole.log(\"Started Server \" + new Date());\r\n\tvar config = __webpack_require__(1);\r\n\tconsole.log(\"Config Loaded\");\r\n\tconsole.log(config);\r\n\tvar processing = false;\r\n\tconsole.log(\"Processing : \" + processing);\r\n\tconsole.log(\"Setting up Intervals\");\r\n\tsetInterval(function () {\r\n\t    if (!processing) {\r\n\t        console.log(processing + \" ...\\n\\tStarting next process\");\r\n\t        var days = new LogFile_1.LogFile(config.filePath).days;\r\n\t        days.forEach(function (day) {\r\n\t        });\r\n\t    }\r\n\t    else {\r\n\t        console.log(processing + \" ...\\n\\tDelaying next process for \" + config.delaySeconds + \" seconds\");\r\n\t    }\r\n\t}, 1000 * config.delaySeconds);\r\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"filePath\": \"\\\\\\\\wsepdm\\\\c$\\\\Program Files (x86)\\\\SolidWorks Corp\\\\SolidNetWork License Manager\\\\lmgrd.log\",\n\t\t\"delaySeconds\": 1\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"products\": [\n\t\t\t\"swofficepremium\",\n\t\t\t\"draftsightpremium\",\n\t\t\t\"solidworks\",\n\t\t\t\"swepdm_cadeditorandweb\",\n\t\t\t\"swepdm_processor\",\n\t\t\t\"swinspection_std\",\n\t\t\t\"swofficepro\"\n\t\t]\n\t};\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar Day = (function () {\r\n\t    function Day() {\r\n\t        this.products = __webpack_require__(2).products;\r\n\t        this.lines = [];\r\n\t    }\r\n\t    Day.prototype.getHighMark = function (product) {\r\n\t        var highwater = 0;\r\n\t        var current = 0;\r\n\t        var prodExp = new RegExp(product, 'g');\r\n\t        this.lines.forEach(function (line) {\r\n\t            if (line.match(prodExp)) {\r\n\t                if (line.match(/IN:/gi)) {\r\n\t                    current++;\r\n\t                }\r\n\t                if (line.match(/OUT:/gi)) {\r\n\t                    current--;\r\n\t                }\r\n\t            }\r\n\t            if (current > highwater) {\r\n\t                highwater = current;\r\n\t            }\r\n\t            if (current < 0) {\r\n\t                current = 0;\r\n\t            }\r\n\t        });\r\n\t        return highwater;\r\n\t    };\r\n\t    Day.prototype.getDate = function () {\r\n\t        var dateString;\r\n\t        this.lines.forEach(function (line) {\r\n\t            if (line.match(/TIMESTAMP/gi)) {\r\n\t                dateString = line.split(\" \").pop();\r\n\t            }\r\n\t        });\r\n\t        return new Date(dateString);\r\n\t    };\r\n\t    Day.prototype.addLine = function (string) {\r\n\t        if (string) {\r\n\t            this.lines.push(string);\r\n\t        }\r\n\t    };\r\n\t    return Day;\r\n\t}());\r\n\texports.Day = Day;\r\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar Day_1 = __webpack_require__(3);\r\n\tvar StringLine_1 = __webpack_require__(5);\r\n\tvar TwoDayWindow_1 = __webpack_require__(6);\r\n\tvar fs = __webpack_require__(7);\r\n\tvar LogFile = (function () {\r\n\t    function LogFile(sourcePath) {\r\n\t        this.logPath = sourcePath;\r\n\t        this.days = this.consumeFile(this.logPath);\r\n\t    }\r\n\t    ;\r\n\t    LogFile.prototype.consumeFile = function (filePath) {\r\n\t        var days;\r\n\t        var fileString = fs.readFileSync(filePath, 'utf-8');\r\n\t        var lineArray = fileString.split(/\\r\\n/g).map(function (str) {\r\n\t            return new StringLine_1.StringLine(str);\r\n\t        });\r\n\t        var window = new TwoDayWindow_1.TwoDayWindow(new Day_1.Day());\r\n\t        lineArray.forEach(function (line, ind, arr) {\r\n\t            if (ind === 0) {\r\n\t                window.current.addLine(line.lineString);\r\n\t            }\r\n\t            else {\r\n\t                var lineWindow = [line, arr[ind - 1]];\r\n\t                if (LogFile.isNewDay(lineWindow)) {\r\n\t                    window.nextDay(new Day_1.Day());\r\n\t                }\r\n\t                if (LogFile.isPreviousDay(lineWindow)) {\r\n\t                    window.previous.addLine(line.lineString);\r\n\t                }\r\n\t                else {\r\n\t                    window.current.addLine(line.lineString);\r\n\t                }\r\n\t            }\r\n\t        });\r\n\t        days = window\r\n\t            .finishWindow()\r\n\t            .allDays;\r\n\t        return days;\r\n\t    };\r\n\t    LogFile.isNewDay = function (lineInd) {\r\n\t        var result = false;\r\n\t        var times = lineInd.map(function (stringLine) {\r\n\t            return stringLine.getLineHour();\r\n\t        });\r\n\t        var currentTime = times[0], previousTime = times[1];\r\n\t        if (currentTime < previousTime) {\r\n\t            if (previousTime - currentTime > .5) {\r\n\t                result = true;\r\n\t            }\r\n\t        }\r\n\t        return result;\r\n\t    };\r\n\t    LogFile.isPreviousDay = function (lineInd) {\r\n\t        var result = false;\r\n\t        var times = lineInd.map(function (stringLine) {\r\n\t            return stringLine.getLineHour();\r\n\t        });\r\n\t        var currentTime = times[0], previousTime = times[1];\r\n\t        if (currentTime > (previousTime + 12)) {\r\n\t            result = true;\r\n\t        }\r\n\t        return result;\r\n\t    };\r\n\t    return LogFile;\r\n\t}());\r\n\texports.LogFile = LogFile;\r\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar StringLine = (function () {\r\n\t    function StringLine(str) {\r\n\t        this._string = '';\r\n\t        this.lineString = str;\r\n\t    }\r\n\t    Object.defineProperty(StringLine.prototype, \"lineString\", {\r\n\t        get: function () {\r\n\t            return this._string;\r\n\t        },\r\n\t        set: function (str) {\r\n\t            this._string = str;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    StringLine.prototype.getLineHour = function () {\r\n\t        var timeStringArray = this._string.substr(0, 8).split(':');\r\n\t        var timeNumbersArray = timeStringArray.map(function (segment) { return parseInt(segment, 10); });\r\n\t        var hours = timeNumbersArray[0] + (timeNumbersArray[1] / 60) + (timeNumbersArray[2] / 60 / 60);\r\n\t        return hours;\r\n\t    };\r\n\t    return StringLine;\r\n\t}());\r\n\texports.StringLine = StringLine;\r\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar TwoDayWindow = (function () {\r\n\t    function TwoDayWindow(day, prev) {\r\n\t        this.allDays = [];\r\n\t        this.current = day;\r\n\t        if (prev) {\r\n\t            this.previous = prev;\r\n\t        }\r\n\t    }\r\n\t    TwoDayWindow.prototype.nextDay = function (day) {\r\n\t        if (this.previous) {\r\n\t            this.allDays.push(this.previous);\r\n\t        }\r\n\t        this.previous = this.current;\r\n\t        this.current = day;\r\n\t        return this;\r\n\t    };\r\n\t    TwoDayWindow.prototype.finishWindow = function () {\r\n\t        if (this.previous) {\r\n\t            this.allDays.push(this.previous);\r\n\t        }\r\n\t        this.allDays.push(this.current);\r\n\t        return this;\r\n\t    };\r\n\t    return TwoDayWindow;\r\n\t}());\r\n\texports.TwoDayWindow = TwoDayWindow;\r\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"fs\");\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// server.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 855ea600705da4e19a20","import fs = require('fs');\r\nimport { Day } from './Day';\r\nimport * as db from './Database';\r\nimport { LogFile } from './LogFile';\r\n\r\nconsole.log(`Started Server ${new Date()}`);\r\nlet config = require('./config.json');\r\nconsole.log(`Config Loaded`);\r\nconsole.log(config);\r\nlet processing: boolean = false\r\nconsole.log(`Processing : ${processing}`);\r\nconsole.log(`Setting up Intervals`);\r\nsetInterval(() => {\r\n    if (!processing) {\r\n        console.log(`${processing} ...\\n\\tStarting next process`);\r\n        var days = new LogFile(config.filePath).days;\r\n        days.forEach(day => {\r\n            // db.UpsertDay(day);//not readty to send to databse yet\r\n            // console.log(\"Tried to Upcert\");\r\n            // console.log(`${day.getDate()} solidworks ${day.getHighMark('solidworks')}`);\r\n        })\r\n    } else {\r\n        console.log(`${processing} ...\\n\\tDelaying next process for ${config.delaySeconds} seconds`);\r\n    }\r\n}, 1000 * config.delaySeconds);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","module.exports = {\n\t\"filePath\": \"\\\\\\\\wsepdm\\\\c$\\\\Program Files (x86)\\\\SolidWorks Corp\\\\SolidNetWork License Manager\\\\lmgrd.log\",\n\t\"delaySeconds\": 1\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/config.json\n// module id = 1\n// module chunks = 0","module.exports = {\n\t\"products\": [\n\t\t\"swofficepremium\",\n\t\t\"draftsightpremium\",\n\t\t\"solidworks\",\n\t\t\"swepdm_cadeditorandweb\",\n\t\t\"swepdm_processor\",\n\t\t\"swinspection_std\",\n\t\t\"swofficepro\"\n\t]\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/products.json\n// module id = 2\n// module chunks = 0","export class Day {\r\n    products = require('./products.json').products;\r\n    lines: string[]\r\n    constructor() {\r\n        this.lines = [];\r\n    }\r\n    getHighMark(product: string): number {\r\n        let highwater: number = 0;\r\n        let current: number = 0;\r\n        let prodExp: RegExp = new RegExp(product, 'g');\r\n        this.lines.forEach((line: string) => {\r\n            if (line.match(prodExp)) {\r\n                if (line.match(/IN:/gi)) {\r\n                    current++;\r\n                }\r\n                if (line.match(/OUT:/gi)) {\r\n                    current--;\r\n                }\r\n            }\r\n            if (current > highwater) {\r\n                highwater = current;\r\n            }\r\n            if (current < 0) {\r\n                current = 0;\r\n            }\r\n        });\r\n        return highwater;\r\n    }\r\n    getDate() {\r\n        let dateString: string;\r\n        this.lines.forEach((line: string) => {\r\n            if (line.match(/TIMESTAMP/gi)) {\r\n                dateString = line.split(\" \").pop();\r\n            }\r\n        })\r\n        return new Date(dateString);\r\n    }\r\n    addLine(string: string): void {\r\n        if (string) {\r\n            this.lines.push(string);\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Day.ts","import { Day } from './Day';\r\nimport { StringLine } from './StringLine';\r\nimport { TwoDayWindow } from './TwoDayWindow';\r\nimport fs = require('fs');\r\n\r\nexport class LogFile {\r\n    logPath: string;\r\n    days: Day[];\r\n    constructor(sourcePath: string) {\r\n        this.logPath = sourcePath;\r\n        this.days = this.consumeFile(this.logPath);\r\n    };\r\n    private consumeFile(filePath: string): Day[] {\r\n        let days: Day[];\r\n        let fileString = fs.readFileSync(filePath, 'utf-8');\r\n        let lineArray: StringLine[] = fileString.split(/\\r\\n/g).map(str => {\r\n            return new StringLine(str);\r\n        });\r\n        let window = new TwoDayWindow(new Day());\r\n        lineArray.forEach((line: StringLine, ind: number, arr: StringLine[]) => {\r\n            if (ind === 0) {\r\n                window.current.addLine(line.lineString);\r\n            } else {\r\n                let lineWindow = [line, arr[ind - 1]];\r\n                if (LogFile.isNewDay(lineWindow)) {\r\n                    window.nextDay(new Day());\r\n                }\r\n                if (LogFile.isPreviousDay(lineWindow)) {\r\n                    window.previous.addLine(line.lineString);\r\n                } else {\r\n                    window.current.addLine(line.lineString);\r\n                }\r\n            }\r\n        })\r\n        days = window\r\n            .finishWindow()\r\n            .allDays;\r\n        return days;\r\n    }\r\n    private static isNewDay(lineInd: StringLine[]) {\r\n        let result: boolean = false;\r\n        let times = lineInd.map(stringLine => {\r\n            return stringLine.getLineHour();\r\n            // return 5;\r\n        })\r\n        let currentTime = times[0],\r\n            previousTime = times[1]\r\n        if (currentTime < previousTime) {\r\n            if (previousTime - currentTime > .5) {\r\n                result = true;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    private static isPreviousDay(lineInd: StringLine[]) {\r\n        let result: boolean = false;\r\n        let times = lineInd.map(stringLine => {\r\n            return stringLine.getLineHour();\r\n            // return 6;\r\n        })\r\n        let currentTime = times[0],\r\n            previousTime = times[1]\r\n        if (currentTime > (previousTime + 12)) {\r\n            result = true;\r\n        }\r\n        return result;\r\n    }\r\n\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/LogFile.ts","export class StringLine {\r\n    private _string: string = '';\r\n    constructor(str: string) {\r\n        this.lineString = str;\r\n    }\r\n    set lineString(str: string) {\r\n        this._string = str;\r\n    }\r\n    get lineString() {\r\n        return this._string;\r\n    }\r\n    getLineHour() {\r\n        let timeStringArray = this._string.substr(0, 8).split(':');\r\n        let timeNumbersArray = timeStringArray.map(segment => { return parseInt(segment, 10) })\r\n        let hours: number = timeNumbersArray[0] + (timeNumbersArray[1] / 60) + (timeNumbersArray[2] / 60 / 60);\r\n        return hours;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/StringLine.ts","import { Day } from './Day';\r\nexport class TwoDayWindow {\r\n    allDays: Day[];\r\n    current: Day;\r\n    previous: Day;\r\n    constructor(day: Day, prev?: Day) {\r\n        this.allDays = [];\r\n        this.current = day;\r\n        if (prev) {\r\n            this.previous = prev;\r\n        }\r\n    }\r\n    nextDay(day: Day) {\r\n        if (this.previous) {\r\n            this.allDays.push(this.previous);\r\n        }\r\n        this.previous = this.current;\r\n        this.current = day;\r\n        return this;\r\n    }\r\n    finishWindow() {\r\n        if (this.previous) {\r\n            this.allDays.push(this.previous);\r\n        }\r\n        this.allDays.push(this.current);\r\n        return this;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/TwoDayWindow.ts","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 7\n// module chunks = 0"],"sourceRoot":""}